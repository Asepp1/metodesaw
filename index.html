<!DOCTYPE html>
<h<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SPK Beasiswa - Metode SAW (Bootstrap 5)</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- SweetAlert2 for better notifications -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="main.js"></script>
    <style>
      :root {
        --primary-color: #4361ee;
        --secondary-color: #3f37c9;
        --accent-color: #4cc9f0;
        --light-bg: #f8f9fa;
        --dark-bg: #212529;
      }
      
      body {
        font-family: 'Poppins', sans-serif;
        background-color: #f5f7ff;
        color: #333;
      }
      
      .card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        overflow: hidden;
      }
      
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
      }
      
      .card-header {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        border-bottom: none;
        padding: 1.25rem 1.5rem;
      }
      
      .btn {
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
        padding: 0.5rem 1.25rem;
      }
      
      .btn-primary {
        background: var(--primary-color);
        border-color: var(--primary-color);
      }
      
      .btn-primary:hover {
        background: var(--secondary-color);
        border-color: var(--secondary-color);
        transform: translateY(-2px);
      }
      
      .btn-success {
        background: #2ecc71;
        border-color: #2ecc71;
      }
      
      .btn-success:hover {
        background: #27ae60;
        border-color: #27ae60;
        transform: translateY(-2px);
      }
      
      .btn-warning {
        background: #f39c12;
        border-color: #f39c12;
      }
      
      .btn-warning:hover {
        background: #e67e22;
        border-color: #e67e22;
        transform: translateY(-2px);
      }
      
      .btn-danger {
        background: #e74c3c;
        border-color: #e74c3c;
      }
      
      .btn-danger:hover {
        background: #c0392b;
        border-color: #c0392b;
        transform: translateY(-2px);
      }
      
      .form-control, .form-select {
        border-radius: 8px;
        padding: 0.5rem 0.75rem;
        border: 1px solid #ddd;
        transition: all 0.3s ease;
      }
      
      .form-control:focus, .form-select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.25rem rgba(67, 97, 238, 0.25);
      }
      
      .table {
        border-radius: 12px;
        overflow: hidden;
      }
      
      .table thead th {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
        font-weight: 500;
        border: none;
        padding: 1rem;
      }
      
      .table tbody tr {
        transition: all 0.3s ease;
      }
      
      .table tbody tr:hover {
        background-color: rgba(67, 97, 238, 0.05);
        transform: translateX(5px);
      }
      
      .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(0, 0, 0, 0.02);
      }
      
      .alert {
        border-radius: 10px;
      }
      
      .alert-info {
        background-color: #e7f5ff;
        border-color: #d0ebff;
        color: #1864ab;
      }
      
      .alert-success {
        background-color: #ebfbee;
        border-color: #d3f9d8;
        color: #2b8a3e;
      }
      
      .total-weight-badge {
        background: linear-gradient(135deg, #4cc9f0, #4361ee);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-weight: 600;
        box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
      }
      
      .header-gradient {
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: inline-block;
      }
      
      .badge-criteria {
        background-color: rgba(67, 97, 238, 0.1);
        color: var(--primary-color);
        font-weight: 500;
        padding: 0.35rem 0.75rem;
        border-radius: 50px;
      }
      
      .result-card {
        border-left: 4px solid var(--primary-color);
      }
      
      .recommendation-card {
        background: linear-gradient(135deg, rgba(67, 97, 238, 0.05), rgba(67, 97, 238, 0.1));
        border: none;
      }
    </style>
  </head>
  <body>
    <div class="container my-4 my-md-5">
      <header class="text-center mb-5">
        <h1 class="display-5 fw-bold header-gradient">
          <i class="bi bi-trophy-fill me-2"></i>SPK Penerimaan Beasiswa
        </h1>
        <p class="fs-5 text-muted">Metode Simple Additive Weighting (SAW)</p>
      </header>

      <div class="row g-4">
        <!-- Kolom Input dan Bobot -->
        <div class="col-lg-4">
          <div class="vstack gap-4">
            <!-- Pengaturan Bobot Kriteria -->
            <div class="card shadow-sm">
              <div class="card-header">
                <h5 class="mb-0 fw-bold text-white">
                  <i class="bi bi-sliders me-2"></i>Bobot Kriteria
                </h5>
              </div>
              <div class="card-body">
                <div class="alert alert-info d-flex align-items-center" role="alert">
                  <i class="bi bi-info-circle-fill me-2"></i>
                  <div>
                    Total bobot kriteria harus sama dengan <strong>1.00</strong>.
                  </div>
                </div>
                <div class="row g-3">
                  <div class="col-6">
                    <label class="form-label fw-medium">IPK <span class="badge-criteria">Benefit</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w1"
                      value="0.20"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Penghasilan <span class="badge-criteria">Cost</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w2"
                      value="0.15"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Tanggungan <span class="badge-criteria">Benefit</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w3"
                      value="0.15"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Prestasi <span class="badge-criteria">Benefit</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w4"
                      value="0.10"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Organisasi <span class="badge-criteria">Benefit</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w5"
                      value="0.10"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Semester <span class="badge-criteria">Cost</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w6"
                      value="0.10"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">SKTM <span class="badge-criteria">Benefit</span></label>
                    <input
                      type="number"
                      class="form-control"
                      id="w7"
                      value="0.20"
                      step="0.01"
                      min="0"
                      max="1"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Jumlah Rekomendasi</label>
                    <input
                      type="number"
                      class="form-control"
                      id="jumlahRekomendasi"
                      value="3"
                      min="1"
                      max="10"
                    />
                  </div>
                </div>
              </div>
              <div class="card-footer text-center bg-light">
                <span id="totalWeight" class="total-weight-badge">Total Bobot: 1.00</span>
              </div>
            </div>

            <!-- Input Data Mahasiswa -->
            <div class="card shadow-sm">
              <div class="card-header">
                <h5 class="mb-0 fw-bold text-white">
                  <i class="bi bi-person-plus-fill me-2"></i>Input Data Mahasiswa
                </h5>
              </div>
              <div class="card-body">
                <div class="row g-3">
                  <div class="col-12">
                    <label class="form-label fw-medium">Nama</label>
                    <input
                      type="text"
                      class="form-control"
                      id="nama"
                      placeholder="Contoh: Budi Santoso"
                    />
                  </div>
                  <div class="col-12">
                    <label class="form-label fw-medium">NIM</label>
                    <input
                      type="text"
                      class="form-control"
                      id="nim"
                      placeholder="Contoh: 210101001"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">IPK</label>
                    <input
                      type="number"
                      class="form-control"
                      id="ipk"
                      placeholder="0.00-4.00"
                      step="0.01"
                      min="0"
                      max="4"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Penghasilan (Juta)</label>
                    <input
                      type="number"
                      class="form-control"
                      id="penghasilan"
                      placeholder="Contoh: 2.5"
                      step="0.1"
                      min="0"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Tanggungan</label>
                    <input
                      type="number"
                      class="form-control"
                      id="tanggungan"
                      placeholder="Jumlah orang"
                      min="1"
                      max="20"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Semester</label>
                    <input
                      type="number"
                      class="form-control"
                      id="semester"
                      placeholder="1-14"
                      min="1"
                      max="14"
                    />
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Prestasi (1-5)</label>
                    <select class="form-select" id="prestasi">
                      <option value="">Pilih level</option>
                      <option value="1">1 - Tidak ada</option>
                      <option value="2">2 - Fakultas</option>
                      <option value="3">3 - Universitas</option>
                      <option value="4">4 - Regional/Nasional</option>
                      <option value="5">5 - Internasional</option>
                    </select>
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">Organisasi (1-5)</label>
                    <select class="form-select" id="organisasi">
                      <option value="">Pilih level</option>
                      <option value="1">1 - Tidak aktif</option>
                      <option value="2">2 - Anggota</option>
                      <option value="3">3 - Pengurus</option>
                      <option value="4">4 - Ketua Divisi</option>
                      <option value="5">5 - Ketua BEM</option>
                    </select>
                  </div>
                  <div class="col-6">
                    <label class="form-label fw-medium">SKTM (0/1)</label>
                    <select class="form-select" id="sktm">
                      <option value="">Pilih status</option>
                      <option value="0">0 - Tidak ada</option>
                      <option value="1">1 - Punya SKTM</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="card-footer bg-light">
                <div class="d-grid gap-2 d-sm-flex justify-content-sm-between">
                  <button class="btn btn-primary" onclick="tambahMahasiswa()">
                    <i class="bi bi-plus-circle-fill me-1"></i>Tambah
                  </button>
                  <button class="btn btn-success" onclick="hitungSAW()">
                    <i class="bi bi-calculator-fill me-1"></i>Hitung
                  </button>
                  <button class="btn btn-warning" onclick="loadContohData()">
                    <i class="bi bi-clipboard-data-fill me-1"></i>Contoh
                  </button>
                  <button class="btn btn-danger" onclick="resetData()">
                    <i class="bi bi-trash3-fill me-1"></i>Reset
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Kolom Data dan Hasil -->
        <div class="col-lg-8">
          <div class="vstack gap-4">
            <!-- Data Mahasiswa -->
            <div class="card shadow-sm">
              <div class="card-header">
                <h5 class="mb-0 fw-bold text-white">
                  <i class="bi bi-table me-2"></i>Data Mahasiswa
                </h5>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table
                    class="table table-striped table-hover align-middle"
                    id="dataMahasiswa"
                  >
                    <thead>
                      <tr class="text-center">
                        <th>No</th>
                        <th class="text-start">Nama</th>
                        <th>IPK</th>
                        <th>Penghasilan</th>
                        <th>Tanggungan</th>
                        <th>Prestasi</th>
                        <th>Organisasi</th>
                        <th>Semester</th>
                        <th>SKTM</th>
                        <th>Aksi</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Hasil Perhitungan -->
            <div class="card shadow-sm result-card" id="hasilSection" style="display: none">
              <div class="card-header">
                <h5 class="mb-0 fw-bold text-white">
                  <i class="bi bi-bar-chart-line-fill me-2"></i>Hasil Perhitungan
                </h5>
              </div>
              <div class="card-body p-4">
                <div class="vstack gap-4">
                  <div>
                    <h5 class="fw-bold text-primary">Matriks Keputusan (X)</h5>
                    <div class="table-responsive">
                      <table
                        class="table table-bordered text-center"
                        id="matriksKeputusan"
                      ></table>
                    </div>
                  </div>
                  <div>
                    <h5 class="fw-bold text-primary">Matriks Normalisasi (R)</h5>
                    <div class="table-responsive">
                      <table
                        class="table table-bordered text-center"
                        id="matriksNormalisasi"
                      ></table>
                    </div>
                  </div>
                  <div>
                    <h5 class="fw-bold text-primary">Hasil Akhir dan Peringkat</h5>
                    <div class="table-responsive">
                      <table
                        class="table table-bordered table-hover"
                        id="hasilAkhir"
                      ></table>
                    </div>
                  </div>
                  <div class="alert alert-success recommendation-card text-center p-4">
                    <h4 class="alert-heading fw-bold">
                      <i class="bi bi-trophy-fill me-2"></i>Rekomendasi Penerima Beasiswa
                    </h4>
                    <hr />
                    <div id="rekomendasiText" class="fs-4 fw-medium"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>